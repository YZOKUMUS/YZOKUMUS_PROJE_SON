<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#9d8aff">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="description" content="Hasene ArapÃ§a Dersi - Kuran kelimeleri ile eÄŸlenceli Ã¶ÄŸrenme oyunu">
    
    <title>Hasene ArapÃ§a Dersi</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" sizes="512x512" href="ASSETS/badges/icon-512.png">
    <link rel="apple-touch-icon" href="ASSETS/badges/icon-512.png">
    
    <!-- Styles -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loadingScreen" class="loading-screen">
        <div class="loading-content">
            <img src="ASSETS/badges/icon-512.png" alt="HASENE Logo" class="loading-logo">
            <h2 class="loading-title">Hasene</h2>
            <p class="loading-subtitle">"Kim Allah'Ä±n kitabÄ±ndan bir harf okursa ona bir sevap (hasene) vardÄ±r. Sevap (hasene) ise on kat karÅŸÄ±lÄ±ÄŸÄ±yla verilir."</p>
            <div class="loading-spinner"></div>
        </div>
        <div class="loading-footer">YZOKUMUS-2026</div>
    </div>

    <!-- Main Container -->
    <div id="main-container" class="main-container hidden">
        <!-- PWA Install Banner (Mobil cihazlar iÃ§in) -->
        <div id="install-banner" class="install-banner hidden">
            <div class="install-banner-content">
                <div class="install-banner-info">
                    <div class="install-banner-icon">ğŸ“±</div>
                    <div class="install-banner-text">
                        <div class="install-banner-title">Ana Ekrana Ekle</div>
                        <div class="install-banner-desc">UygulamayÄ± ana ekranÄ±nÄ±za ekleyerek daha hÄ±zlÄ± eriÅŸin</div>
                    </div>
                </div>
                <div class="install-banner-actions">
                    <button id="install-btn" class="install-btn-primary">Ekle</button>
                    <button id="install-dismiss" class="install-btn-dismiss" title="Kapat">âœ•</button>
                </div>
            </div>
        </div>

        <!-- Stats Header -->
        <div class="stats-header glass-card">
            <!-- User Status Bar with Reset Button -->
            <div class="user-status-bar">
                <div class="user-info">
                    <span id="user-avatar" class="user-avatar">ğŸ‘¤</span>
                    <span id="current-username-display" class="username-display">Misafir</span>
                    <span id="user-status-indicator" class="user-status-indicator">ğŸ”´ Ã‡Ä±kÄ±ÅŸ YapÄ±ldÄ±</span>
                </div>
                <div class="user-actions">
                    <button id="reset-all-btn" onclick="resetAllData()" class="reset-btn" title="TÃ¼m Oyunu SÄ±fÄ±rla (TEST)">ğŸ”„</button>
                    <button id="user-login-btn" class="secondary-btn user-action-btn" onclick="showUsernameLoginModal()">GiriÅŸ Yap</button>
                    <button id="user-logout-btn" class="secondary-btn user-action-btn" onclick="handleUserLogout()" style="display: none;">Ã‡Ä±kÄ±ÅŸ Yap</button>
                </div>
            </div>
            
            <!-- Compact Stats Row - Single Line -->
            <div class="stats-row-compact">
                <div class="stat-item-compact">
                    <div class="stat-value-compact" id="total-hasene">0</div>
                    <div class="stat-label-compact">Hasene</div>
                </div>
                <div class="stat-item-compact">
                    <div class="stat-value-compact" id="total-stars">â­ 0</div>
                    <div class="stat-label-compact">YÄ±ldÄ±z</div>
                </div>
                <div class="stat-item-compact">
                    <div class="stat-value-compact" id="streak-count">ğŸ”¥ 0</div>
                    <div class="stat-label-compact">Seri</div>
                </div>
                <div class="stat-item-compact">
                    <div class="stat-value-compact" id="level-display">1</div>
                    <div class="stat-label-compact">Seviye</div>
                </div>
            </div>
            
            <!-- Daily Goal Progress -->
            <div class="daily-goal-container">
                <div class="daily-goal-header">
                    <span>ğŸ¯ GÃ¼nlÃ¼k Hedef</span>
                    <span id="daily-goal-text">0 / 2700</span>
                    <button class="settings-btn" id="goal-settings-btn" title="Hedef Ayarla">âš™ï¸</button>
                </div>
                <div class="daily-goal-bar">
                    <div class="daily-goal-progress" id="daily-goal-progress" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Difficulty Selector -->
        <div class="difficulty-selector">
            <button class="difficulty-btn active" data-difficulty="easy">
                <span class="difficulty-icon">ğŸŒ±</span>
                <span>Kolay</span>
            </button>
            <button class="difficulty-btn" data-difficulty="medium">
                <span class="difficulty-icon">âš–ï¸</span>
                <span>Orta</span>
            </button>
            <button class="difficulty-btn" data-difficulty="hard">
                <span class="difficulty-icon">ğŸ”¥</span>
                <span>Zor</span>
            </button>
        </div>

        <!-- Game Cards -->
        <div class="game-cards-container">
            <div class="game-card" data-game="kelime-cevir">
                <div class="game-icon">
                    <img src="ASSETS/game-icons/kelime-cevir.png" alt="Kelime Ã‡evir" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ“š</span>
                </div>
                <h3>Kelime Ã‡evir</h3>
                <p>ArapÃ§a kelimenin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ±nÄ± bul</p>
            </div>
            
            <div class="game-card" data-game="dinle-bul">
                <div class="game-icon">
                    <img src="ASSETS/game-icons/dinle-bul.png" alt="Dinle Bul" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ§</span>
                </div>
                <h3>Dinle Bul</h3>
                <p>Kelimeyi dinle, doÄŸru Ã§eviriyi seÃ§</p>
            </div>
            
            <div class="game-card" data-game="bosluk-doldur">
                <div class="game-icon">
                    <span>âœï¸</span>
                </div>
                <h3>BoÅŸluk Doldur</h3>
                <p>Ayette eksik kelimeyi tamamla</p>
            </div>
            
            <div class="game-card" data-game="ayet-oku">
                <div class="game-icon">
                    <img src="ASSETS/game-icons/ayet-oku.png" alt="Ayet Oku" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ“–</span>
                </div>
                <h3>Ayet Oku</h3>
                <p>Kuran ayetlerini oku ve meÃ¢lini Ã¶ÄŸren</p>
            </div>
            
            <div class="game-card" data-game="dua-et">
                <div class="game-icon">
                    <img src="ASSETS/game-icons/dua-et.png" alt="Dua Et" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ¤²</span>
                </div>
                <h3>Dua Et</h3>
                <p>Kuran'dan dualarÄ± Ã¶ÄŸren</p>
            </div>
            
            <div class="game-card" data-game="hadis-oku">
                <div class="game-icon">
                    <img src="ASSETS/game-icons/hadis-oku.png" alt="Hadis Oku" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ“œ</span>
                </div>
                <h3>Hadis Oku</h3>
                <p>Hz. Peygamber'in hadislerini oku</p>
            </div>

            <div class="game-card" data-game="elif-ba">
                <div class="game-icon">
                    <img src="ASSETS/elifba-cover/harf-tablosu-icon.png" alt="Elif Ba" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                    <span style="display:none;">ğŸ“˜</span>
                </div>
                <h3>Elif Ba</h3>
                <p>ArapÃ§a harfleri Ã¶ÄŸren</p>
            </div>

            <div class="game-card karma-card" data-game="karma">
                <div class="game-icon">
                    <span>ğŸ”€</span>
                </div>
                <h3>Karma Oyun</h3>
                <p>TÃ¼m modlar bir arada! EÅŸleÅŸtirme dahil</p>
            </div>
        </div>
    </div>

    <!-- Kelime Ã‡evir Submode Selection -->
    <div id="kelime-submode-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="goToMainMenu()">â† Geri</button>
            <h2>ğŸ“š Kelime Ã‡evir</h2>
        </div>
        <div class="submode-content">
            <h3 class="submode-title">Alt Mod SeÃ§in</h3>
            <p class="submode-subtitle">NasÄ±l oynamak istediÄŸinizi seÃ§in</p>
            <div class="submode-options">
                <button class="submode-btn" data-submode="classic">
                    <div class="icon">ğŸ¯</div>
                    <div class="info">
                        <div class="name">Klasik Oyun</div>
                        <div class="desc">TÃ¼m kelimelerden rastgele</div>
                    </div>
                </button>
                <button class="submode-btn" data-submode="juz30">
                    <div class="icon">ğŸ“–</div>
                    <div class="info">
                        <div class="name">30. CÃ¼z Kelimeleri</div>
                        <div class="desc">Amme cÃ¼zÃ¼ kelimeleri</div>
                    </div>
                </button>
                <button class="submode-btn" data-submode="review">
                    <div class="icon">ğŸ”„</div>
                    <div class="info">
                        <div class="name">YanlÄ±ÅŸlarÄ± Tekrar Et</div>
                        <div class="desc">ZorlandÄ±ÄŸÄ±n kelimeleri Ã§alÄ±ÅŸ</div>
                    </div>
                </button>
                <button class="submode-btn" data-submode="favorites">
                    <div class="icon">â­</div>
                    <div class="info">
                        <div class="name">Favorilerden Oyna</div>
                        <div class="desc">Favori kelimelerinle pratik yap</div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Kelime Ã‡evir Screen -->
    <div id="kelime-cevir-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToKelimeSubmodes()">â† Geri</button>
            <div class="game-progress">
                <span id="kelime-question-number">1</span> / <span id="kelime-total-questions">10</span>
            </div>
            <div class="combo-display">ğŸ”¥ <span id="kelime-combo">0</span></div>
        </div>

        <div class="game-content">
            <div class="question-card glass-card">
                <div class="word-actions">
                    <button class="hint-btn" id="kelime-hint-btn" onclick="useHint()" title="Ä°pucu (1 ÅŸÄ±kkÄ± ele)">ğŸ’¡</button>
                    <button class="favorite-btn" id="kelime-favorite-btn" title="Favorilere Ekle">â™¡</button>
                    <button class="audio-btn" id="kelime-audio-btn" title="Dinle">
                        <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon">
                    </button>
                </div>
                <div class="arabic-word" id="kelime-arabic">Ø¨ÙØ³Ù’Ù…Ù</div>
                <div class="word-info" id="kelime-info"></div>
            </div>

            <div class="answer-options" id="kelime-options">
                <!-- Options will be generated dynamically -->
            </div>

            <div class="session-score">
                <span>Oturum PuanÄ±: </span>
                <span id="kelime-session-score">0</span> Hasene
            </div>
        </div>
    </div>

    <!-- Dinle Bul Screen -->
    <div id="dinle-bul-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <div class="game-progress">
                <span id="dinle-question-number">1</span> / <span id="dinle-total-questions">10</span>
            </div>
            <div class="combo-display">ğŸ”¥ <span id="dinle-combo">0</span></div>
        </div>

        <div class="game-content">
            <div class="question-card glass-card">
                <p class="dinle-instruction">Kelimeyi dinle ve doÄŸru Ã§eviriyi bul</p>
                <button class="big-audio-btn" id="dinle-audio-btn" title="Dinle">
                    <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon-inline"> Dinle
                </button>
            </div>

            <div class="answer-options" id="dinle-options">
                <!-- Options will be generated dynamically -->
            </div>

            <div class="session-score">
                <span>Oturum PuanÄ±: </span>
                <span id="dinle-session-score">0</span> Hasene
            </div>
        </div>
    </div>

    <!-- BoÅŸluk Doldur Screen -->
    <div id="bosluk-doldur-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <div class="game-progress">
                <span id="bosluk-question-number">1</span> / <span id="bosluk-total-questions">10</span>
            </div>
            <div class="combo-display">ğŸ”¥ <span id="bosluk-combo">0</span></div>
        </div>

        <div class="game-content">
            <div class="question-card glass-card">
                <div class="word-actions">
                    <button class="audio-btn" id="bosluk-audio-btn" title="Ayeti Dinle">
                        <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon">
                    </button>
                </div>
                <div class="arabic-verse" id="bosluk-arabic"></div>
                <div class="verse-translation" id="bosluk-translation"></div>
            </div>

            <div class="answer-options" id="bosluk-options">
                <!-- Options will be generated dynamically -->
            </div>

            <div class="session-score">
                <span>Oturum PuanÄ±: </span>
                <span id="bosluk-session-score">0</span> Hasene
            </div>
        </div>
    </div>

    <!-- Ayet Oku Screen -->
    <div id="ayet-oku-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <h2>ğŸ“– Ayet Oku</h2>
        </div>

        <div class="reading-content">
            <div class="reading-card glass-card">
                <div class="surah-info" id="ayet-surah-info">FÃ¢tiha Suresi</div>
                <div class="arabic-text" id="ayet-arabic"></div>
                <div class="translation-text" id="ayet-translation"></div>
                <button class="audio-btn-large" id="ayet-audio-btn">
                    <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon-inline"> Dinle
                </button>
            </div>

            <div class="navigation-btns">
                <button class="nav-btn" id="ayet-prev-btn">â† Ã–nceki</button>
                <button class="nav-btn" id="ayet-next-btn">Sonraki â†’</button>
            </div>
        </div>
    </div>

    <!-- Dua Et Screen -->
    <div id="dua-et-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <h2>ğŸ¤² Dua Et</h2>
        </div>

        <div class="reading-content">
            <div class="reading-card glass-card">
                <div class="dua-reference" id="dua-reference">2:127</div>
                <div class="arabic-text" id="dua-arabic"></div>
                <div class="translation-text" id="dua-translation"></div>
                <button class="audio-btn-large" id="dua-audio-btn">
                    <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon-inline"> Dinle
                </button>
            </div>

            <div class="navigation-btns">
                <button class="nav-btn" id="dua-prev-btn">â† Ã–nceki</button>
                <button class="nav-btn" id="dua-next-btn">Sonraki â†’</button>
            </div>
        </div>
    </div>

    <!-- Hadis Oku Screen -->
    <div id="hadis-oku-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <h2>ğŸ“œ Hadis Oku</h2>
        </div>

        <div class="reading-content">
            <div class="reading-card glass-card">
                <div class="hadis-section" id="hadis-section">Ä°MAN VE Ä°SLAM HAKKINDA</div>
                <div class="hadis-header" id="hadis-header">Ubade Ä°bnus-Samit el-Ensari</div>
                <div class="hadis-text" id="hadis-text"></div>
                <div class="hadis-reference" id="hadis-reference"></div>
            </div>

            <div class="navigation-btns">
                <button class="nav-btn" id="hadis-prev-btn">â† Ã–nceki</button>
                <button class="nav-btn" id="hadis-next-btn">Sonraki â†’</button>
            </div>
        </div>
    </div>

    <!-- Karma Game Screen -->
    <div id="karma-game-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToMainMenu()">â† Geri</button>
            <h2>ğŸ”€ Karma Oyun</h2>
        </div>

        <div class="game-stats-bar">
            <div class="stat-item">
                <span class="stat-label">Soru</span>
                <span class="stat-value"><span id="karma-question-number">1</span>/<span id="karma-total-questions">15</span></span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Kombo</span>
                <span class="stat-value combo" id="karma-combo">0</span>
            </div>
            <div class="stat-item">
                <span class="stat-label">Hasene</span>
                <span class="stat-value" id="karma-session-score">0</span>
            </div>
        </div>

        <div class="karma-game-content">
            <div id="karma-question-container" class="karma-question-container">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Elif Ba Submode Selection -->
    <div id="elif-ba-submode-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="goToMainMenu()">â† Geri</button>
            <h2>ğŸ“˜ Elif Ba</h2>
        </div>
        <div class="submode-content">
            <h3 class="submode-title">Alt Mod SeÃ§in</h3>
            <p class="submode-subtitle">NasÄ±l Ã¶ÄŸrenmek istediÄŸinizi seÃ§in</p>
            <div class="submode-options">
                <button class="submode-btn" data-elif-submode="tablo">
                    <div class="icon"><img src="ASSETS/elifba-cover/harf-tablosu-icon.png" alt="Harf Tablosu" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">Harf Tablosu</div>
                        <div class="desc">ArapÃ§a harflerin yazÄ±lÄ±ÅŸÄ± ve okunuÅŸu</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="harekeler">
                    <div class="icon">âœï¸</div>
                    <div class="info">
                        <div class="name">Harekeler</div>
                        <div class="desc">ÃœstÃ¼n, esre, Ã¶tre, cezm ve ÅŸedde iÅŸaretlerini Ã¶ÄŸren</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="fetha">
                    <div class="icon"><img src="ASSETS/elifba-cover/Ã¼stÃ¼n-icon.png" alt="ÃœstÃ¼n" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">ÃœstÃ¼n</div>
                        <div class="desc">Harfin Ã¼zerine gelen bu iÅŸaret ince harfleri "e" sesi ile, kalÄ±n okunan harfleriyse "a" sesi ile okutur. Ä°nce harflerden Ø¹ â€“ Ø± â€“ Ø­ Ã¼stÃ¼nlÃ¼ olduÄŸu zaman a sesiyle okunur.</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="esre">
                    <div class="icon"><img src="ASSETS/elifba-cover/esre-icon.png" alt="Esre" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">Esre</div>
                        <div class="desc">Harfin altÄ±na gelen bu iÅŸaret ince harfleri "i" sesi ile, kalÄ±n okunan harfleriyse "Ä±" sesi ile okutur.</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="otre">
                    <div class="icon"><img src="ASSETS/elifba-cover/otre-icon.png" alt="Ã–tre" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">Ã–tre</div>
                        <div class="desc">Harfin Ã¼stÃ¼ne gelen bu iÅŸaret ince harfleri "u" ile "Ã¼" sesi arasÄ±nda bir sesle, kalÄ±n okunan harfleriyse "u" sesi ile okutur.</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="sedde">
                    <div class="icon"><img src="ASSETS/elifba-cover/sedde-icon.png" alt="Åedde" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">Åedde</div>
                        <div class="desc">Åedde, Ã¼zerinde bulunduÄŸu harfin iki defa okunmasÄ±nÄ± saÄŸlar. Yani, birinci defa cezimli, ikinci defa ise kendi harekesi gibi okutur.</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="cezm">
                    <div class="icon"><img src="ASSETS/elifba-cover/cezm-icon.png" alt="Cezm" style="width: 2rem; height: 2rem; object-fit: contain; display: block;"></div>
                    <div class="info">
                        <div class="name">Cezm</div>
                        <div class="desc">Cezm Ã¼zerinde bulunduÄŸu harfi kendinden Ã¶nceki harekeli harfe baÄŸlar.</div>
                    </div>
                </button>
                <button class="submode-btn" data-elif-submode="uc-harfli-kelimeler">
                    <div class="icon" style="font-family: 'KFGQPC Uthmanic Script HAFS', 'Scheherazade New', serif; font-size: 1.8rem; direction: rtl; text-align: center;">Ø«Ù„Ø§Ø«Ø©</div>
                    <div class="info">
                        <div class="name">ÃœÃ§ Harfli Kelimeler</div>
                        <div class="desc">ÃœÃ§ harfli ArapÃ§a kelimeleri gÃ¶r ve okunuÅŸlarÄ±nÄ± Ã¶ÄŸren</div>
                    </div>
                </button>
            </div>
        </div>
    </div>

    <!-- Elif Ba Screen -->
    <div id="elif-ba-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="stopAllAudio(); goToElifBaSubmodes()">â† Geri</button>
            <div class="game-progress">
                <span id="elif-question-number">1</span> / <span id="elif-total-questions">10</span>
            </div>
            <div class="combo-display" style="display: none;">ğŸ”¥ <span id="elif-combo">0</span></div>
        </div>

        <div class="game-content">
            <div class="question-card glass-card">
                <div class="elif-question-header">
                    <div class="arabic-letter" id="elif-letter">Ø§</div>
                    <button class="audio-btn" id="elif-audio-btn" title="Dinle">
                        <img src="ASSETS/badges/hoparlor.png" alt="Dinle" class="audio-icon">
                    </button>
                </div>
                <div class="elif-question-instruction" id="elif-question-instruction"></div>
            </div>

            <div class="answer-options" id="elif-options">
                <!-- Options will be generated dynamically -->
            </div>

            <div class="session-score">
                <span>Oturum PuanÄ±: </span>
                <span id="elif-session-score">0</span> Hasene
            </div>
        </div>
    </div>

    <!-- Elif Ba Harf Tablosu Screen -->
    <div id="elif-ba-tablo-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="goToElifBaSubmodes()">â† Geri</button>
            <h2>ğŸ“‹ Harf Tablosu</h2>
        </div>
        <div class="harf-tablo-content">
            <div class="harf-grid" id="harf-grid">
                <!-- Harfler dinamik olarak yÃ¼klenecek -->
            </div>
        </div>
    </div>

    <!-- Harfler ve Ä°simleri Tablosu -->
    <div id="elif-ba-isimler-tablo-screen" class="game-screen hidden">
        <div class="game-header">
            <button class="back-btn" onclick="goToElifBaSubmodes()">â† Geri</button>
            <h2>ğŸ“˜ Harfler ve Ä°simleri</h2>
        </div>
        <div class="harf-tablo-content">
            <div class="harf-isimler-grid" id="harf-isimler-grid">
                <!-- Harfler ve isimleri dinamik olarak yÃ¼klenecek -->
            </div>
        </div>
    </div>

    <!-- Game Result Modal -->
    <div id="game-result-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2 id="result-title">ğŸ‰ Tebrikler!</h2>
            <div class="result-stats">
                <div class="result-item">
                    <span class="result-label">DoÄŸru</span>
                    <span class="result-value" id="result-correct">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">YanlÄ±ÅŸ</span>
                    <span class="result-value" id="result-wrong">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">KazanÄ±lan Hasene</span>
                    <span class="result-value highlight" id="result-points">0</span>
                </div>
                <div class="result-item" id="result-perfect-container" style="display: none;">
                    <span class="result-label">Perfect Bonus</span>
                    <span class="result-value highlight" id="result-perfect">+50</span>
                </div>
            </div>
            <div class="result-actions">
                <button class="primary-btn" onclick="playAgain()">Tekrar Oyna</button>
                <button class="secondary-btn" onclick="closeResultAndGoHome()">Ana MenÃ¼</button>
            </div>
        </div>
    </div>

    <!-- Daily Goal Settings Modal -->
    <div id="goal-settings-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2>ğŸ¯ GÃ¼nlÃ¼k Hedef Ayarla</h2>
            <div class="goal-options">
                <button class="goal-option" data-goal="1300">
                    <span class="goal-emoji">ğŸ˜Š</span>
                    <span class="goal-name">Rahat</span>
                    <span class="goal-value">1,300 Hasene</span>
                </button>
                <button class="goal-option active" data-goal="2700">
                    <span class="goal-emoji">âš–ï¸</span>
                    <span class="goal-name">Normal</span>
                    <span class="goal-value">2,700 Hasene</span>
                </button>
                <button class="goal-option" data-goal="5400">
                    <span class="goal-emoji">ğŸ”¥</span>
                    <span class="goal-name">Zor</span>
                    <span class="goal-value">5,400 Hasene</span>
                </button>
                <button class="goal-option" data-goal="6000">
                    <span class="goal-emoji">ğŸ’ª</span>
                    <span class="goal-name">Ciddi</span>
                    <span class="goal-value">6,000 Hasene</span>
                </button>
            </div>
            <button class="secondary-btn" onclick="closeModal('goal-settings-modal')">Kapat</button>
        </div>
    </div>

    <!-- Level Up Modal -->
    <div id="level-up-modal" class="modal hidden">
        <div class="modal-content glass-card celebration">
            <div class="level-up-animation">ğŸŠ</div>
            <h2>Seviye AtladÄ±nÄ±z!</h2>
            <div class="new-level" id="new-level-display">Seviye 2</div>
            <div class="level-name" id="new-level-name">MÃ¼terakki</div>
            <button class="primary-btn" onclick="closeModal('level-up-modal')">Harika!</button>
        </div>
    </div>

    <!-- Stats Modal -->
    <div id="stats-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2>ğŸ“Š Ä°statistikler</h2>
            <div class="stats-grid">
                <div class="stat-box">
                    <span class="stat-title">Toplam Hasene</span>
                    <span class="stat-number" id="modal-total-hasene">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-title">YÄ±ldÄ±z</span>
                    <span class="stat-number" id="modal-total-stars">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-title">Toplam DoÄŸru</span>
                    <span class="stat-number" id="modal-total-correct">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-title">Toplam YanlÄ±ÅŸ</span>
                    <span class="stat-number" id="modal-total-wrong">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-title">En YÃ¼ksek Seri</span>
                    <span class="stat-number" id="modal-best-streak">0</span>
                </div>
                <div class="stat-box">
                    <span class="stat-title">Oyun GÃ¼nÃ¼</span>
                    <span class="stat-number" id="modal-total-days">0</span>
                </div>
            </div>
            <div class="modal-actions">
                <button class="primary-btn" onclick="showWordAnalysisModal()">ğŸ“ˆ Kelime Analizi</button>
                <button class="secondary-btn" onclick="closeModal('stats-modal')">Kapat</button>
            </div>
        </div>
    </div>

    <!-- Word Analysis Modal -->
    <div id="word-analysis-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2>ğŸ“ˆ Kelime Analizi</h2>
            <div class="analysis-content" id="analysis-content">
                <!-- Analysis will be generated dynamically -->
            </div>
            <button class="secondary-btn" onclick="closeModal('word-analysis-modal')">Kapat</button>
        </div>
    </div>

    <!-- Tasks Modal -->
    <div id="tasks-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2>ğŸ“‹ GÃ¼nlÃ¼k GÃ¶revler</h2>
            <div class="tasks-list" id="tasks-list">
                <!-- Tasks will be generated dynamically -->
            </div>
            
            <!-- SÃ¼rpriz Kutusu -->
            <div class="reward-box-container" id="reward-box-container">
                <div class="reward-box" id="reward-box" onclick="claimDailyReward()">
                    <div class="reward-box-icon">ğŸ</div>
                    <div class="reward-box-label">GÃ¼nlÃ¼k Ã–dÃ¼l Kutusu</div>
                    <div class="reward-box-status" id="reward-box-status">GÃ¶revleri tamamla!</div>
                </div>
            </div>
            
            <button class="secondary-btn" onclick="closeModal('tasks-modal')">Kapat</button>
        </div>
    </div>

    <!-- Badges Modal -->
    <div id="badges-modal" class="modal hidden">
        <div class="modal-content glass-card badges-modal-content">
            <h2>ğŸ† Rozetler & BaÅŸarÄ±mlar</h2>
            
            <!-- Ana Sekmeler: Rozetler ve BaÅŸarÄ±mlar -->
            <div class="badges-tabs">
                <button class="badge-tab active" data-tab="badges">ğŸ–ï¸ Rozetler</button>
                <button class="badge-tab" data-tab="asr-i-saadet">ğŸ•Œ Asr-Ä± Saadet</button>
                <button class="badge-tab" data-tab="achievements">â­ BaÅŸarÄ±mlar</button>
            </div>
            
            <!-- Normal Rozetler Grid -->
            <div class="badges-grid" id="badges-grid">
                <!-- Badges will be generated dynamically -->
            </div>
            
            <!-- Asr-Ä± Saadet Container -->
            <div class="asr-saadet-container hidden" id="asr-saadet-container">
                <!-- Asr-Ä± Saadet Alt Sekmeleri -->
                <div class="asr-saadet-tabs">
                    <button class="asr-tab active" data-asr-tab="mekke">ğŸ•‹ Mekke DÃ¶nemi</button>
                    <button class="asr-tab" data-asr-tab="medine">ğŸ•Œ Medine DÃ¶nemi</button>
                    <button class="asr-tab" data-asr-tab="ilk-iki-halife">âš”ï¸ Ä°lk Ä°ki Halife</button>
                    <button class="asr-tab" data-asr-tab="son-iki-halife">ğŸŒ™ Hz. Osman & Hz. Ali</button>
                </div>
                
                <!-- Mekke DÃ¶nemi Grid -->
                <div class="asr-badges-grid active" id="mekke-grid">
                    <!-- Mekke badges dynamically generated -->
                </div>
                
                <!-- Medine DÃ¶nemi Grid -->
                <div class="asr-badges-grid hidden" id="medine-grid">
                    <!-- Medine badges dynamically generated -->
                </div>
                
                <!-- Ä°lk Ä°ki Halife Grid -->
                <div class="asr-badges-grid hidden" id="ilk-iki-halife-grid">
                    <!-- Ä°lk Ä°ki Halife badges dynamically generated -->
                </div>
                
                <!-- Son Ä°ki Halife Grid -->
                <div class="asr-badges-grid hidden" id="son-iki-halife-grid">
                    <!-- Son Ä°ki Halife badges dynamically generated -->
                </div>
            </div>
            
            <!-- BaÅŸarÄ±mlar Listesi -->
            <div class="achievements-list hidden" id="achievements-list">
                <!-- Achievements will be generated dynamically -->
            </div>
            
            <button class="secondary-btn" onclick="closeModal('badges-modal')">Kapat</button>
        </div>
    </div>

    <!-- Badge Detail Modal -->
    <div id="badge-detail-modal" class="modal hidden">
        <div class="modal-content glass-card badge-detail-content">
            <div class="badge-detail-icon" id="badge-detail-icon">ğŸ…</div>
            <h2 class="badge-detail-name" id="badge-detail-name">Rozet AdÄ±</h2>
            <p class="badge-detail-description" id="badge-detail-description">Rozet aÃ§Ä±klamasÄ±</p>
            <p class="badge-detail-status" id="badge-detail-status">HenÃ¼z kazanÄ±lmadÄ±</p>
            <button class="secondary-btn" onclick="closeModal('badge-detail-modal')">Kapat</button>
        </div>
    </div>

    <!-- Achievement Modal -->
    <div id="achievement-modal" class="modal hidden">
        <div class="modal-content glass-card celebration achievement-content">
            <div class="achievement-animation">ğŸ†</div>
            <h2>BaÅŸarÄ±m KazandÄ±nÄ±z!</h2>
            <div class="achievement-icon" id="achievement-icon">â­</div>
            <div class="achievement-name" id="achievement-name">Ä°lk YÄ±ldÄ±z</div>
            <div class="achievement-desc" id="achievement-desc">1 yÄ±ldÄ±z kazandÄ±nÄ±z!</div>
            <button class="primary-btn" onclick="closeModal('achievement-modal')">Harika!</button>
        </div>
    </div>

    <!-- Calendar Modal -->
    <div id="calendar-modal" class="modal hidden">
        <div class="modal-content glass-card calendar-modal-content">
            <h2>ğŸ“… Aktivite Takvimi</h2>
            <div class="streak-summary">
                <div class="streak-stat">
                    <span class="streak-number" id="calendar-current-streak">0</span>
                    <span class="streak-label">GÃ¼nlÃ¼k Seri</span>
                </div>
                <div class="streak-stat">
                    <span class="streak-number" id="calendar-best-streak">0</span>
                    <span class="streak-label">En Ä°yi Seri</span>
                </div>
                <div class="streak-stat">
                    <span class="streak-number" id="calendar-total-days">0</span>
                    <span class="streak-label">Toplam GÃ¼n</span>
                </div>
            </div>
            <div class="calendar-container" id="calendar-grid">
                <!-- Calendar will be generated dynamically -->
            </div>
            <button class="secondary-btn" onclick="closeModal('calendar-modal')">Kapat</button>
        </div>
    </div>

    <!-- Username Login Modal -->
    <div id="username-login-modal" class="modal hidden">
        <div class="modal-content glass-card">
            <h2>ğŸ‘¤ KullanÄ±cÄ± AdÄ± GiriÅŸi</h2>
            <p class="modal-description">Oyunu oynamak iÃ§in bir kullanÄ±cÄ± adÄ± girin</p>
            <input 
                type="text" 
                id="username-input" 
                class="username-input" 
                placeholder="KullanÄ±cÄ± adÄ±nÄ±zÄ± girin..."
                maxlength="50"
                onkeypress="if(event.key === 'Enter') confirmUsername();"
            />
            <!-- Cinsiyet SeÃ§imi -->
            <div style="margin-bottom: 20px;">
                <label class="gender-select-label">Cinsiyet (Opsiyonel)</label>
                <div class="gender-select-buttons">
                    <button 
                        id="gender-male-btn" 
                        class="gender-btn" 
                        onclick="selectGender('male')"
                        title="Erkek"
                    >ğŸ‘¨</button>
                    <button 
                        id="gender-female-btn" 
                        class="gender-btn" 
                        onclick="selectGender('female')"
                        title="KadÄ±n"
                    >ğŸ‘©</button>
                    <button 
                        id="gender-none-btn" 
                        class="gender-btn active" 
                        onclick="selectGender('none')"
                        title="Belirtmek istemiyorum"
                    >ğŸ‘¤</button>
                </div>
            </div>
            <div style="display: flex; gap: 10px;">
                <button class="primary-btn" onclick="confirmUsername()" style="flex: 1;">GiriÅŸ Yap</button>
                <button class="secondary-btn" onclick="closeModal('username-login-modal')" style="flex: 1;">Ä°ptal</button>
            </div>
        </div>
    </div>

    <!-- Onboarding Modal -->
    <div id="onboarding-modal" class="modal hidden">
        <div class="modal-content glass-card onboarding-content">
            <div class="onboarding-slide">
                <div class="onboarding-icon" id="onboarding-icon">ğŸ“±</div>
                <h2 class="onboarding-title" id="onboarding-title">HoÅŸ Geldiniz!</h2>
                <p class="onboarding-text" id="onboarding-text">Hasene ArapÃ§a Dersi'ne hoÅŸ geldiniz!</p>
            </div>
            <div class="onboarding-dots" id="onboarding-dots">
                <!-- Dots will be populated dynamically -->
            </div>
            <div class="onboarding-nav">
                <button id="onboarding-prev" onclick="prevOnboardingSlide()">â† Geri</button>
                <button id="onboarding-next" onclick="nextOnboardingSlide()">Ä°leri â†’</button>
            </div>
        </div>
    </div>

    <!-- Daily Reward Modal -->
    <div id="daily-reward-modal" class="modal hidden">
        <div class="modal-content glass-card daily-reward-content">
            <div class="daily-reward-icon">ğŸ</div>
            <h2 class="daily-reward-title">GÃ¼nlÃ¼k Ã–dÃ¼l!</h2>
            <div class="daily-reward-amount">+<span id="daily-reward-amount">20</span></div>
            <p class="daily-reward-streak" id="daily-reward-streak"></p>
            <button class="claim-reward-btn" onclick="claimDailyReward()">Ã–dÃ¼lÃ¼ Al ğŸ</button>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboard-modal" class="modal hidden">
        <div class="modal-content glass-card" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px;">
                <h2 style="font-size: 1.1rem; margin: 0;">ğŸ† Liderlik Tablosu</h2>
                <button class="secondary-btn" onclick="closeModal('leaderboard-modal')" style="padding: 6px 12px; font-size: 0.9rem;">âœ•</button>
            </div>
            <div id="leaderboard-content">
                <div style="text-align: center; padding: 30px;">
                    <div class="loading-spinner"></div>
                    <p style="margin-top: 10px; font-size: 0.9rem;">YÃ¼kleniyor...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-page="main-menu">
            <span class="nav-icon">ğŸ </span>
            <span class="nav-label">Ana Sayfa</span>
        </button>
        <button class="nav-item" onclick="showStatsModal()">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-label">Ä°statistik</span>
        </button>
        <button class="nav-item" onclick="showBadgesModal()">
            <span class="nav-icon">ğŸ†</span>
            <span class="nav-label">Rozetler</span>
        </button>
        <button class="nav-item" onclick="showCalendarModal()">
            <span class="nav-icon">ğŸ“…</span>
            <span class="nav-label">Takvim</span>
        </button>
        <button class="nav-item" onclick="showTasksModal()">
            <span class="nav-icon">ğŸ“‹</span>
            <span class="nav-label">GÃ¶revler</span>
        </button>
        <button class="nav-item" onclick="showLeaderboardModal()">
            <span class="nav-icon">ğŸ¥‡</span>
            <span class="nav-label">Lig</span>
        </button>
    </nav>

    <!-- Firebase SDK (CDN) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    
    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/constants.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/firebase-init.js"></script>
    <script src="js/firebase-debug.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/api-service.js"></script>
    <script src="js/data-loader.js"></script>
    <script src="js/points-manager.js"></script>
    <script src="js/leaderboard.js"></script>
    <script src="js/game-core.js"></script>
</body>
</html>
